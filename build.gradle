plugins {
    id 'java'
    id 'com.diffplug.spotless' version '6.17.0'
    id 'org.sonarqube' version '4.0.0.2929'
}

allprojects {
    group = 'com.vmardones'
    version = '0.0'

    apply plugin: 'java'

    java.sourceCompatibility = JavaVersion.VERSION_17

    apply plugin: 'com.diffplug.spotless'

    spotless {
        java {
            palantirJavaFormat()
            importOrder('java|javax', 'org.apache', '')
            licenseHeader('/*\n' +
                    ' * Copyright (C) $YEAR  VÃ­ctor Mardones\n' +
                    ' * The full notice can be found at README.md in the root directory.\n' +
                    ' */\n\n')
            formatAnnotations()
        }
    }

    tasks {
        compileJava {
            dependsOn = [spotlessJavaApply]
        }
    }

    ext {
        jdtVersion = '2.2.700'
        log4jVersion = '2.20.0'

        junitVersion = '5.9.2'
        mockitoVersion = '5.2.0'
        assertjVersion = '3.24.2'
        equalsVerifierVersion = '3.14.1'

        batikVersion = '1.16'
        picocliVersion = '4.7.1'
        migLayoutVersion = '11.0'
        flatlafVersion = '3.0'
    }

    repositories {
        mavenCentral()
    }

    dependencies {
        // Nullability
        compileOnly "org.eclipse.jdt:org.eclipse.jdt.annotation:$jdtVersion"

        // Logging
        implementation "org.apache.logging.log4j:log4j-api:$log4jVersion"
        implementation "org.apache.logging.log4j:log4j-core:$log4jVersion"
    }
}
